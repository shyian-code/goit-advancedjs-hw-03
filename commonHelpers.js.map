{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/index.js"],"sourcesContent":["// cat-api.js\nimport axios from \"axios\";\n\naxios.defaults.headers.common[\"x-api-key\"] = \"live_8dopgEoZqjLeDX5BcU4nL2k4qRgKONIXj7FAVN0qokHbLiZxLlebiy9Al26Wgzgs\";\n\nexport function fetchBreeds() {\n  return axios.get(\"https://api.thecatapi.com/v1/breeds\")\n    .then(response => response.data)\n    .catch(error => {\n      console.error(\"Error fetching breeds:\", error);\n      throw error;\n    });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => response.data)\n    .catch(error => {\n      console.error(\"Error fetching cat by breed:\", error);\n      throw error;\n    });\n}\n","// main.js\nimport SlimSelect from 'slim-select';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchBreeds, fetchCatByBreed } from \"./js/api.js\";\n\nconst breedSelect = document.querySelector(\"select.breed-select\");\nconst catInfoDiv = document.querySelector(\"div.cat-info\");\nconst loader = document.querySelector(\"p.loader\");\nconst errorDiv = document.querySelector(\"p.error\");\n\n\n// використання iziToast\niziToast.success({\n  title: \"Success\",\n  message: \"Operation completed successfully\",\n});\n\n\nfunction showLoader() {\n  loader.classList.add(\"visible\");\n  breedSelect.classList.add(\"hidden\"); // Приховати select.breed-select\n  catInfoDiv.classList.add(\"hidden\"); // Приховати div.cat-info\n}\n\nfunction hideBreedSelect() {\n  breedSelect.classList.add(\"hidden\");\n}\n\nfunction hideLoader() {\n  loader.classList.remove(\"visible\");\n}\n\nfunction showBreedSelect() {\n  breedSelect.classList.remove(\"hidden\");\n}\n\nfunction hideCatInfo() {\n  catInfoDiv.classList.add(\"hidden\");\n}\n\nfunction showCatInfo() {\n  catInfoDiv.classList.remove(\"hidden\");\n}\n\nfunction populateBreedSelect(breeds) {\n  breedSelect.innerHTML = \"\";\n  breeds.forEach(breed => {\n    const option = document.createElement(\"option\");\n    option.value = breed.id;\n    option.textContent = breed.name;\n    breedSelect.appendChild(option);\n  });\n}\n\nfunction displayCatInfo(cat, origin, country_code, noImage) {\n  const img = document.createElement(\"img\");\n  img.src = cat[0].url;\n  img.alt = `${cat[0].breeds[0].name}`;\n\n  const breedName = document.createElement(\"p\");\n  breedName.textContent = `Breed: ${cat[0].breeds[0].name}`;\n\n  const description = document.createElement(\"p\");\n  description.textContent = `Description: ${cat[0].breeds[0].description}`;\n\n  const temperament = document.createElement(\"p\");\n  temperament.textContent = `Temperament: ${cat[0].breeds[0].temperament}`;\n\n  const countryImg = document.createElement(\"img\");\n  countryImg.src = `https://flagsapi.com/${country_code}/shiny/64.png`;\n  countryImg.alt = `${origin}`;\n  countryImg.onerror = () => {\n    countryImg.src = noImage;\n  };\n  countryImg.style.width = \"64px\";\n\n  const wrapperDiv = document.createElement(\"div\");\n  wrapperDiv.classList.add(\"wrapper\");\n  wrapperDiv.innerHTML = `\n    <img class=\"cat-img\" width=\"400\" src=\"${img.src}\" alt=\"${img.alt}\">\n    <div class=\"info-wrap\">\n      <h2 class=\"text\">${breedName.textContent}</h2>\n      <p><b class=\"primary\">Description:</b> ${description.textContent}</p>\n      <p><b class=\"primary\">Temperament:</b> ${temperament.textContent}</p>\n      <p><b class=\"primary\">Country:</b> ${origin}</p>\n    </div>\n  `;\n\n  wrapperDiv.appendChild(countryImg);\n  catInfoDiv.innerHTML = \"\";\n  catInfoDiv.appendChild(wrapperDiv);\n}\n\n\n// Fetch breeds on page load\nshowLoader();\nfetchBreeds()\n  .then(breeds => {\n    hideLoader();\n    populateBreedSelect(breeds);\n    showBreedSelect(); // Показати select.breed-select\n  })\n  .catch(() => {\n    hideLoader();\n    showError();\n  });\n\n// Handle breed select change\nbreedSelect.addEventListener(\"change\", () => {\n  const selectedBreedId = breedSelect.value;\n\n  if (selectedBreedId) {\n    showLoader();\n    hideError();\n    hideBreedSelect(); // Приховати select.breed-select\n\n    fetchCatByBreed(selectedBreedId)\n      .then(cat => {\n        hideLoader();\n        displayCatInfo(cat);\n      })\n      .catch(() => {\n        hideLoader();\n        showError();\n      });\n  }\n});\n"],"names":["axios","fetchBreeds","response","error","fetchCatByBreed","breedId","breedSelect","catInfoDiv","loader","iziToast","showLoader","hideBreedSelect","hideLoader","showBreedSelect","populateBreedSelect","breeds","breed","option","displayCatInfo","cat","origin","country_code","noImage","img","breedName","description","temperament","countryImg","wrapperDiv","selectedBreedId"],"mappings":"6vBAGAA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAEtC,SAASC,GAAc,CAC5B,OAAOD,EAAM,IAAI,qCAAqC,EACnD,KAAKE,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EACvCA,CACZ,CAAK,CACL,CAEO,SAASC,EAAgBC,EAAS,CACvC,OAAOL,EAAM,IAAI,wDAAwDK,GAAS,EAC/E,KAAKH,GAAYA,EAAS,IAAI,EAC9B,MAAMC,GAAS,CACd,cAAQ,MAAM,+BAAgCA,CAAK,EAC7CA,CACZ,CAAK,CACL,CCbA,MAAMG,EAAc,SAAS,cAAc,qBAAqB,EAC1DC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAS,SAAS,cAAc,UAAU,EAC/B,SAAS,cAAc,SAAS,EAIjDC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,kCACX,CAAC,EAGD,SAASC,GAAa,CACpBF,EAAO,UAAU,IAAI,SAAS,EAC9BF,EAAY,UAAU,IAAI,QAAQ,EAClCC,EAAW,UAAU,IAAI,QAAQ,CACnC,CAEA,SAASI,GAAkB,CACzBL,EAAY,UAAU,IAAI,QAAQ,CACpC,CAEA,SAASM,GAAa,CACpBJ,EAAO,UAAU,OAAO,SAAS,CACnC,CAEA,SAASK,GAAkB,CACzBP,EAAY,UAAU,OAAO,QAAQ,CACvC,CAUA,SAASQ,EAAoBC,EAAQ,CACnCT,EAAY,UAAY,GACxBS,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KAC3BV,EAAY,YAAYW,CAAM,CAClC,CAAG,CACH,CAEA,SAASC,EAAeC,EAAKC,EAAQC,EAAcC,EAAS,CAC1D,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMJ,EAAI,GAAG,IACjBI,EAAI,IAAM,GAAGJ,EAAI,GAAG,OAAO,GAAG,OAE9B,MAAMK,EAAY,SAAS,cAAc,GAAG,EAC5CA,EAAU,YAAc,UAAUL,EAAI,GAAG,OAAO,GAAG,OAEnD,MAAMM,EAAc,SAAS,cAAc,GAAG,EAC9CA,EAAY,YAAc,gBAAgBN,EAAI,GAAG,OAAO,GAAG,cAE3D,MAAMO,EAAc,SAAS,cAAc,GAAG,EAC9CA,EAAY,YAAc,gBAAgBP,EAAI,GAAG,OAAO,GAAG,cAE3D,MAAMQ,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,IAAM,wBAAwBN,iBACzCM,EAAW,IAAM,GAAGP,IACpBO,EAAW,QAAU,IAAM,CACzBA,EAAW,IAAML,CACrB,EACEK,EAAW,MAAM,MAAQ,OAEzB,MAAMC,EAAa,SAAS,cAAc,KAAK,EAC/CA,EAAW,UAAU,IAAI,SAAS,EAClCA,EAAW,UAAY;AAAA,4CACmBL,EAAI,aAAaA,EAAI;AAAA;AAAA,yBAExCC,EAAU;AAAA,+CACYC,EAAY;AAAA,+CACZC,EAAY;AAAA,2CAChBN;AAAA;AAAA,IAIzCQ,EAAW,YAAYD,CAAU,EACjCpB,EAAW,UAAY,GACvBA,EAAW,YAAYqB,CAAU,CACnC,CAIAlB,IACAT,EAAa,EACV,KAAKc,GAAU,CACdH,IACAE,EAAoBC,CAAM,EAC1BF,GACJ,CAAG,EACA,MAAM,IAAM,CACXD,IACA,WACJ,CAAG,EAGHN,EAAY,iBAAiB,SAAU,IAAM,CAC3C,MAAMuB,EAAkBvB,EAAY,MAEhCuB,IACFnB,IACA,YACAC,IAEAP,EAAgByB,CAAe,EAC5B,KAAKV,GAAO,CACXP,IACAM,EAAeC,CAAG,CAC1B,CAAO,EACA,MAAM,IAAM,CACXP,IACA,WACR,CAAO,EAEP,CAAC"}