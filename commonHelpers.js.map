{"version":3,"file":"commonHelpers.js","sources":["../src/js/cat-api.js","../src/index.js"],"sourcesContent":["// cat-api.js\nimport axios from \"axios\";\n\naxios.defaults.headers.common[\"x-api-key\"] = \"live_8dopgEoZqjLeDX5BcU4nL2k4qRgKONIXj7FAVN0qokHbLiZxLlebiy9Al26Wgzgs\";\n\n// Функція для отримання інформації про породи котів\nexport async function fetchBreeds() {\n  try {\n    const response = await axios.get('https://api.thecatapi.com/v1/breeds');\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}\n\n// Функція для отримання інформації про кота за ідентифікатором породи\nexport async function fetchCatByBreed(breedId) {\n  try {\n    const response = await axios.get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`);\n    return response.data;\n  } catch (error) {\n    throw error;\n  }\n}","import SlimSelect from 'slim-select';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchBreeds, fetchCatByBreed } from \"./js/cat-api.js\";\n\n// Вибір DOM-елементів\nconst breedSelect = document.querySelector('.breed-select');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\nconst catInfo = document.querySelector('.cat-info');\n\n// Функція для відображення інформації про кота\nfunction displayCatInfo(catData) {\n  catInfo.innerHTML = `\n  <div class=\"cat-info-wrapper\">\n    <img class=\"cat-image\" src=\"${catData[0].url}\" alt=\"${catData[0].breeds[0].name}\" />\n    <div class=\"text-wrapper\">\n      <h2 class=\"info-title\">${catData[0].breeds[0].name}</h2>\n      <p>Description: ${catData[0].breeds[0].description}</p>\n      <p>Temperament: ${catData[0].breeds[0].temperament}</p>\n    </div>\n  </div> \n  `;\n}\n\n// Функція для обробки помилок\nfunction handleError() {\n  loader.classList.add('hidden');\n  error.classList.remove('hidden');\n}\n\n// Функція для опрацювання стану завантаження\nfunction handleLoadingState(isLoading) {\n  const customLoader = document.querySelector('.custom-loader');\n  \n  if (isLoading) {\n    breedSelect.classList.add('hidden');\n    catInfo.classList.add('hidden');\n    customLoader.style.display = 'flex'; // Показати завантажувач\n    error.classList.add('hidden');\n  } else {\n    breedSelect.classList.remove('hidden');\n    catInfo.classList.remove('hidden');\n    customLoader.style.display = 'none'; // Приховати завантажувач\n  }\n}\n\n// Функція для завантаження порід котів\nasync function loadBreeds() {\n  try {\n    const breeds = await fetchBreeds();\n    // Додати породи до випадаючого списку\n    breeds.forEach((breed) => {\n      const option = document.createElement('option');\n      option.value = breed.id;\n      option.textContent = breed.name;\n      breedSelect.appendChild(option);\n    });\n  } catch (err) {\n    console.error('Error loading breeds:', err);\n  }\n}\n\n// Обробник події для вибору породи кота\nbreedSelect.addEventListener('change', async (event) => {\n  const selectedBreedId = event.target.value;\n  try {\n    // Покажемо завантажувач перед виконанням запиту\n    handleLoadingState(true);\n\n    // Виклик функції для отримання інформації про кота за ідентифікатором породи\n    const catData = await fetchCatByBreed(selectedBreedId);\n\n    // Відобразимо інформацію про кота\n    displayCatInfo(catData);\n\n    // Приховаємо завантажувач після завершення запиту\n    handleLoadingState(false);\n  } catch (err) {\n    console.error('Error fetching cat data:', err);\n    // Обробка помилки\n    handleError();\n  }\n});\n\n\n// Виклик функції завантаження порід котів\nloadBreeds();\n\n// Запуск функції обробки помилок при закритті повідомлення про помилку\nerror.addEventListener('close', () => {\n  error.classList.add('hidden');\n});"],"names":["axios","fetchBreeds","error","fetchCatByBreed","breedId","breedSelect","loader","catInfo","displayCatInfo","catData","handleError","handleLoadingState","isLoading","customLoader","loadBreeds","breed","option","err","event","selectedBreedId"],"mappings":"ivBAGAA,EAAM,SAAS,QAAQ,OAAO,aAAe,wEAGtC,eAAeC,GAAc,CAClC,GAAI,CAEF,OADiB,MAAMD,EAAM,IAAI,qCAAqC,GACtD,IACjB,OAAQE,EAAP,CACA,MAAMA,CACP,CACH,CAGO,eAAeC,EAAgBC,EAAS,CAC7C,GAAI,CAEF,OADiB,MAAMJ,EAAM,IAAI,wDAAwDI,GAAS,GAClF,IACjB,OAAQF,EAAP,CACA,MAAMA,CACP,CACH,CChBA,MAAMG,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCJ,EAAQ,SAAS,cAAc,QAAQ,EACvCK,EAAU,SAAS,cAAc,WAAW,EAGlD,SAASC,EAAeC,EAAS,CAC/BF,EAAQ,UAAY;AAAA;AAAA,kCAEYE,EAAQ,GAAG,aAAaA,EAAQ,GAAG,OAAO,GAAG;AAAA;AAAA,+BAEhDA,EAAQ,GAAG,OAAO,GAAG;AAAA,wBAC5BA,EAAQ,GAAG,OAAO,GAAG;AAAA,wBACrBA,EAAQ,GAAG,OAAO,GAAG;AAAA;AAAA;AAAA,GAI7C,CAGA,SAASC,GAAc,CACrBJ,EAAO,UAAU,IAAI,QAAQ,EAC7BJ,EAAM,UAAU,OAAO,QAAQ,CACjC,CAGA,SAASS,EAAmBC,EAAW,CACrC,MAAMC,EAAe,SAAS,cAAc,gBAAgB,EAExDD,GACFP,EAAY,UAAU,IAAI,QAAQ,EAClCE,EAAQ,UAAU,IAAI,QAAQ,EAC9BM,EAAa,MAAM,QAAU,OAC7BX,EAAM,UAAU,IAAI,QAAQ,IAE5BG,EAAY,UAAU,OAAO,QAAQ,EACrCE,EAAQ,UAAU,OAAO,QAAQ,EACjCM,EAAa,MAAM,QAAU,OAEjC,CAGA,eAAeC,GAAa,CAC1B,GAAI,EACa,MAAMb,KAEd,QAASc,GAAU,CACxB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,YAAcD,EAAM,KAC3BV,EAAY,YAAYW,CAAM,CACpC,CAAK,CACF,OAAQC,EAAP,CACA,QAAQ,MAAM,wBAAyBA,CAAG,CAC3C,CACH,CAGAZ,EAAY,iBAAiB,SAAU,MAAOa,GAAU,CACtD,MAAMC,EAAkBD,EAAM,OAAO,MACrC,GAAI,CAEFP,EAAmB,EAAI,EAGvB,MAAMF,EAAU,MAAMN,EAAgBgB,CAAe,EAGrDX,EAAeC,CAAO,EAGtBE,EAAmB,EAAK,CACzB,OAAQM,EAAP,CACA,QAAQ,MAAM,2BAA4BA,CAAG,EAE7CP,GACD,CACH,CAAC,EAIDI,IAGAZ,EAAM,iBAAiB,QAAS,IAAM,CACpCA,EAAM,UAAU,IAAI,QAAQ,CAC9B,CAAC"}